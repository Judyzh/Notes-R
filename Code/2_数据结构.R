## ????????????????????????

# ?????? -- ??????????????????
a <- c(1,2,3,5,-2,4)
b <- c("one","two","three")
d <- c(TRUE, FALSE, TRUE)

a[5]
a[c(2,4)]
a[2:4]

x <- c(1,2,3)
x[7] <- 10
x  #????????????????????????

# ?????? -- ??????????????????
y <- matrix(1:6,2,3)  # 2???3????????????????????????

rnames <- c("R1","R2")
cnames <- c("C1","C2","C3")
z <-
    matrix(
        1:6, nrow = 2, ncol = 3, byrow = TRUE, dimnames = list(rnames,cnames)
    )
# 2???3????????????????????????(??????????????????)?????????????????????

y[,1] #????????????
y[1,] #????????????
y[2,3] #????????????????????????
y[2,c(1,3)] #???????????????????????? ??? ?????????????????????
y[1,1:3] #????????????


# ?????? -- ??????????????????
dim1 <- c("A1","A2")
dim2 <- c("B1","B2","B3")
dim3 <- c("C1","C2","C3","C4")
arr <- array(1:24,c(2,3,4), dimnames=list(dim1,dim2,dim3))
# 2*3*4??????

# arr[1,2,3]  #C3?????????????????????


# ????????? -- ???????????????????????????????????????????????????
patientid <- c(1,2,3,4)
age <- c(25,34,28,52)
diabetes <- c("Type1","Type2","Type1","Type1")
status <- c("Poor","Improved","Excellent","Poor")
patientdata <- data.frame(patientid,age,diabetes,status)
names(patientdata)[1:2] <- c("id","agetest") #?????????patientid???id

patientdata2 <- data.frame(id=patientid,age,diabetes,status, stringsAsFactors = FALSE)

patientdata3 <- data.frame(id=patientid,age,diabetes,status,row.names=patientid)

patientdata[2,3] #????????????????????????
patientdata[1:2] #???????????????
patientdata[1:2,] #???????????????
patientdata$age #???age

patientdata2[c("age","id")] #???age,id???


attach(patientdata)
summary(status)
mean(age)
detach(patientdata)

with(patientdata, {
    ss <-sum(age)
    mm <-mean(age)
})
# ????????????with???????????????  with???????????????ss ??????Error: object 'ss' not found

with(patientdata, {
    nokeep <-sum(age)
    keep <<-sum(age)
})
nokeep
keep
# <<- ??????????????????with???????????????????????????

# ??????
diabetes_f <- factor(diabetes)
status_f <- factor(status,ordered=T,levels=c("Poor","Improved","Excellent"))
#??????????????????

gender <- c(1,1,2,1)
patient_n <- cbind(patientdata,gender=gender)
patient_n$gender <- factor(patient_n$gender, levels=c(1,2), labels= c("Male", "Female") )
# ??????gender??????????????????????????????

# ?????? -- ?????????????????????
g <- "My List"
h <- c(23,54,32,76)
j <- matrix(1:4,2,2)
k <- c("one","two")
mylist <- list(title=g,ages=h,j,k)

mylist[[2]][1] #??????h???????????????
mylist[[3]][2,1] #??????j?????????????????????
mylist[["ages"]] #??????h
mylist$title #??????g


# ---------------------------------------------

## ????????????

#????????????
mydata <- data.frame(age=numeric(0), gender=character(0), weight=numeric(0))
mydata <- edit(mydata)

mydata2 <- data.frame(age=numeric(0), weight=numeric(0))
fix(mydata2)

#??????.csv
grades <- read.table("studentgrades.csv", header=TRUE, sep=",", row.names="StudentID")

#??????excel
install.packages("RODBC")
library(RODBC)
channel <- odbcConnectExcel("myfile.xls")
mydataframe <- sqlFetch(channel, "mysheet")
odbcClose(channel)

library(xlsx)
workbook <- "c:/myworkbook.xlsx"
mydataframe <- read.xlsx(workbook,1) #?????????1